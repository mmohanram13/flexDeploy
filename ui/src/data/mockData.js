// Mock data for FlexDeploy - AI Deployment Orchestrator

const calculateRiskScore = (avgCpuUsage, avgMemoryUsage, avgDiskUsage) => {
  const avgUsage = (avgCpuUsage + avgMemoryUsage + avgDiskUsage) / 3;
  if (avgUsage > 80) {
    return Math.round(30 - (avgUsage - 80) * 30 / 20);
  } else if (avgUsage > 50) {
    return Math.round(31 + (avgUsage - 50) * 39 / 30);
  } else {
    return Math.round(71 + (50 - avgUsage) * 29 / 50);
  }
};

export const devices = [
  {
    deviceId: 'DEV-001',
    deviceName: 'mmr-10180',
    manufacturer: 'OpenStack Foundation',
    model: 'OpenStack Nova',
    osName: 'Windows 10 Pro',
    site: 'HQ',
    department: 'IT',
    ring: 1,
    totalMemory: '8 GB',
    totalStorage: '79 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 10.17,
    avgMemoryUsage: 23.34,
    avgDiskSpace: 42.69,
    riskScore: calculateRiskScore(10.17, 23.34, 57.31),
  },
  {
    deviceId: 'DEV-002',
    deviceName: 'LAPTOP-RCK72RHH',
    manufacturer: 'LENOVO',
    model: 'IdeaPad Slim 5',
    osName: 'Windows 11 Home',
    site: 'Coimbatore',
    department: 'Marketing',
    ring: 2,
    totalMemory: '16 GB',
    totalStorage: '512 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 35.8,
    avgMemoryUsage: 45.2,
    avgDiskSpace: 31.5,
    riskScore: calculateRiskScore(35.8, 45.2, 68.5),
  },
  {
    deviceId: 'DEV-003',
    deviceName: 'EXEC-LAPTOP-01',
    manufacturer: 'Dell',
    model: 'XPS 15',
    osName: 'Windows 11 Pro',
    site: 'HQ',
    department: 'Executive',
    ring: 3,
    totalMemory: '32 GB',
    totalStorage: '1 TB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 15.3,
    avgMemoryUsage: 28.7,
    avgDiskSpace: 54.8,
    riskScore: calculateRiskScore(15.3, 28.7, 45.2),
  },
  {
    deviceId: 'DEV-004',
    deviceName: 'TEST-DEV-01',
    manufacturer: 'HP',
    model: 'EliteBook 840',
    osName: 'Windows 10 Pro',
    site: 'HQ',
    department: 'IT',
    ring: 0,
    totalMemory: '16 GB',
    totalStorage: '256 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 8.5,
    avgMemoryUsage: 18.2,
    avgDiskSpace: 57.9,
    riskScore: calculateRiskScore(8.5, 18.2, 42.1),
  },
  {
    deviceId: 'DEV-005',
    deviceName: 'SALES-WKS-15',
    manufacturer: 'Lenovo',
    model: 'ThinkPad T14',
    osName: 'Windows 11 Pro',
    site: 'Coimbatore',
    department: 'Sales',
    ring: 2,
    totalMemory: '16 GB',
    totalStorage: '512 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 42.1,
    avgMemoryUsage: 58.9,
    avgDiskSpace: 27.7,
    riskScore: calculateRiskScore(42.1, 58.9, 72.3),
  },
  {
    deviceId: 'DEV-006',
    deviceName: 'DEV-WORKSTATION-02',
    manufacturer: 'HP',
    model: 'Z4 G4',
    osName: 'Windows 10 Pro',
    site: 'HQ',
    department: 'Engineering',
    ring: 1,
    totalMemory: '32 GB',
    totalStorage: '1 TB',
    networkSpeed: '10 Gbps',
    avgCpuUsage: 25.3,
    avgMemoryUsage: 35.6,
    avgDiskSpace: 48.2,
    riskScore: calculateRiskScore(25.3, 35.6, 51.8),
  },
  {
    deviceId: 'DEV-007',
    deviceName: 'FINANCE-PC-08',
    manufacturer: 'Dell',
    model: 'OptiPlex 7090',
    osName: 'Windows 11 Pro',
    site: 'HQ',
    department: 'Finance',
    ring: 3,
    totalMemory: '16 GB',
    totalStorage: '512 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 18.9,
    avgMemoryUsage: 32.4,
    avgDiskSpace: 62.1,
    riskScore: calculateRiskScore(18.9, 32.4, 37.9),
  },
  {
    deviceId: 'DEV-008',
    deviceName: 'HR-LAPTOP-05',
    manufacturer: 'ASUS',
    model: 'VivoBook Pro',
    osName: 'Windows 11 Home',
    site: 'Bangalore',
    department: 'HR',
    ring: 1,
    totalMemory: '16 GB',
    totalStorage: '512 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 22.7,
    avgMemoryUsage: 38.9,
    avgDiskSpace: 55.3,
    riskScore: calculateRiskScore(22.7, 38.9, 44.7),
  },
  {
    deviceId: 'DEV-009',
    deviceName: 'TEST-DEV-02',
    manufacturer: 'HP',
    model: 'EliteBook 850',
    osName: 'Windows 10 Pro',
    site: 'HQ',
    department: 'IT',
    ring: 0,
    totalMemory: '16 GB',
    totalStorage: '512 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 12.4,
    avgMemoryUsage: 21.8,
    avgDiskSpace: 68.9,
    riskScore: calculateRiskScore(12.4, 21.8, 31.1),
  },
  {
    deviceId: 'DEV-010',
    deviceName: 'SUPPORT-WKS-12',
    manufacturer: 'Lenovo',
    model: 'ThinkCentre M90',
    osName: 'Windows 10 Pro',
    site: 'Bangalore',
    department: 'Support',
    ring: 1,
    totalMemory: '8 GB',
    totalStorage: '256 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 28.3,
    avgMemoryUsage: 42.6,
    avgDiskSpace: 51.2,
    riskScore: calculateRiskScore(28.3, 42.6, 48.8),
  },
  {
    deviceId: 'DEV-011',
    deviceName: 'DESIGN-MAC-03',
    manufacturer: 'Apple',
    model: 'MacBook Pro 16"',
    osName: 'macOS Sonoma',
    site: 'HQ',
    department: 'Design',
    ring: 2,
    totalMemory: '64 GB',
    totalStorage: '2 TB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 48.7,
    avgMemoryUsage: 62.3,
    avgDiskSpace: 35.8,
    riskScore: calculateRiskScore(48.7, 62.3, 64.2),
  },
  {
    deviceId: 'DEV-012',
    deviceName: 'CEO-LAPTOP',
    manufacturer: 'Dell',
    model: 'XPS 17',
    osName: 'Windows 11 Pro',
    site: 'HQ',
    department: 'Executive',
    ring: 3,
    totalMemory: '64 GB',
    totalStorage: '2 TB',
    networkSpeed: '10 Gbps',
    avgCpuUsage: 12.1,
    avgMemoryUsage: 25.3,
    avgDiskSpace: 72.8,
    riskScore: calculateRiskScore(12.1, 25.3, 27.2),
  },
  {
    deviceId: 'DEV-013',
    deviceName: 'MARKETING-WKS-07',
    manufacturer: 'HP',
    model: 'ZBook Studio',
    osName: 'Windows 11 Pro',
    site: 'Coimbatore',
    department: 'Marketing',
    ring: 2,
    totalMemory: '32 GB',
    totalStorage: '1 TB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 52.8,
    avgMemoryUsage: 68.4,
    avgDiskSpace: 28.3,
    riskScore: calculateRiskScore(52.8, 68.4, 71.7),
  },
  {
    deviceId: 'DEV-014',
    deviceName: 'LEGAL-PC-04',
    manufacturer: 'Dell',
    model: 'Precision 3660',
    osName: 'Windows 11 Pro',
    site: 'HQ',
    department: 'Legal',
    ring: 3,
    totalMemory: '32 GB',
    totalStorage: '512 GB',
    networkSpeed: '1 Gbps',
    avgCpuUsage: 16.8,
    avgMemoryUsage: 29.7,
    avgDiskSpace: 58.9,
    riskScore: calculateRiskScore(16.8, 29.7, 41.1),
  },
  {
    deviceId: 'DEV-015',
    deviceName: 'OPS-SERVER-01',
    manufacturer: 'Dell',
    model: 'PowerEdge R740',
    osName: 'Windows Server 2022',
    site: 'HQ',
    department: 'Operations',
    ring: 3,
    totalMemory: '128 GB',
    totalStorage: '4 TB',
    networkSpeed: '10 Gbps',
    avgCpuUsage: 82.3,
    avgMemoryUsage: 88.7,
    avgDiskSpace: 12.4,
    riskScore: calculateRiskScore(82.3, 88.7, 87.6),
  },
];

export const deployments = [
  {
    deploymentId: 'DEP-001',
    deploymentName: 'Windows Security Update KB5043145',
    status: 'Not Started',
  },
  {
    deploymentId: 'DEP-002',
    deploymentName: 'Chrome Browser Update v120',
    status: 'In Progress',
  },
  {
    deploymentId: 'DEP-003',
    deploymentName: 'Microsoft Office 365 Update',
    status: 'Completed',
  },
  {
    deploymentId: 'DEP-004',
    deploymentName: 'Adobe Acrobat Security Patch',
    status: 'Failed',
  },
];

export const deploymentDetails = {
  'DEP-001': {
    deploymentId: 'DEP-001',
    deploymentName: 'Windows Security Update KB5043145',
    rings: [
      { ringName: 'Ring 0 - Canary (Test Bed)', deviceCount: 2, status: 'Not Started', failureReason: null },
      { ringName: 'Ring 1 - Low Risk Devices', deviceCount: 5, status: 'Not Started', failureReason: null },
      { ringName: 'Ring 2 - High Risk Devices', deviceCount: 5, status: 'Not Started', failureReason: null },
      { ringName: 'Ring 3 - VIP Devices', deviceCount: 3, status: 'Not Started', failureReason: null },
    ],
  },
  'DEP-002': {
    deploymentId: 'DEP-002',
    deploymentName: 'Chrome Browser Update v120',
    rings: [
      { ringName: 'Ring 0 - Canary (Test Bed)', deviceCount: 2, status: 'Completed', failureReason: null },
      { ringName: 'Ring 1 - Low Risk Devices', deviceCount: 5, status: 'In Progress', failureReason: null },
      { ringName: 'Ring 2 - High Risk Devices', deviceCount: 5, status: 'Not Started', failureReason: null },
      { ringName: 'Ring 3 - VIP Devices', deviceCount: 3, status: 'Not Started', failureReason: null },
    ],
  },
  'DEP-003': {
    deploymentId: 'DEP-003',
    deploymentName: 'Microsoft Office 365 Update',
    rings: [
      { ringName: 'Ring 0 - Canary (Test Bed)', deviceCount: 2, status: 'Completed', failureReason: null },
      { ringName: 'Ring 1 - Low Risk Devices', deviceCount: 5, status: 'Completed', failureReason: null },
      { ringName: 'Ring 2 - High Risk Devices', deviceCount: 5, status: 'Completed', failureReason: null },
      { ringName: 'Ring 3 - VIP Devices', deviceCount: 3, status: 'Completed', failureReason: null },
    ],
  },
  'DEP-004': {
    deploymentId: 'DEP-004',
    deploymentName: 'Adobe Acrobat Security Patch',
    rings: [
      { ringName: 'Ring 0 - Canary (Test Bed)', deviceCount: 2, status: 'Completed', failureReason: null },
      { ringName: 'Ring 1 - Low Risk Devices', deviceCount: 5, status: 'Completed', failureReason: null },
      { ringName: 'Ring 2 - High Risk Devices', deviceCount: 5, status: 'Failed', failureReason: 'Installation failed on 3 out of 5 devices due to insufficient disk space. Deployment halted.' },
      { ringName: 'Ring 3 - VIP Devices', deviceCount: 3, status: 'Stopped', failureReason: 'Deployment stopped due to Ring 2 failure.' },
    ],
  },
};

export const rings = [
  {
    ringId: 0,
    ringName: 'Ring 0 - Canary (Test Bed)',
    categorizationPrompt: 'Test devices for initial validation. Non-production systems only.',
    gatingFactors: {
      riskScore: { min: 0, max: 100 },
      avgCpuUsage: { max: 100 },
      avgMemoryUsage: { max: 100 },
      avgDiskFreeSpace: { min: 0 },
    },
  },
  {
    ringId: 1,
    ringName: 'Ring 1 - Low Risk Devices',
    categorizationPrompt: 'Devices with stable configurations, recent successful deployment history, low risk scores (71-100), standard configurations, non-executive users.',
    gatingFactors: {
      riskScore: { min: 71, max: 100 },
      avgCpuUsage: { max: 30 },
      avgMemoryUsage: { max: 40 },
      avgDiskFreeSpace: { min: 50 },
    },
  },
  {
    ringId: 2,
    ringName: 'Ring 2 - High Risk Devices',
    categorizationPrompt: 'Business-critical devices with moderate to high resource usage, risk scores (31-70), mixed configurations, production systems.',
    gatingFactors: {
      riskScore: { min: 31, max: 70 },
      avgCpuUsage: { max: 80 },
      avgMemoryUsage: { max: 80 },
      avgDiskFreeSpace: { min: 20 },
    },
  },
  {
    ringId: 3,
    ringName: 'Ring 3 - VIP Devices',
    categorizationPrompt: 'Executive and leadership devices, highest stability requirements, risk scores (0-30 indicating high resource usage), critical systems. Deploy only after all other rings successful.',
    gatingFactors: {
      riskScore: { min: 0, max: 30 },
      avgCpuUsage: { max: 100 },
      avgMemoryUsage: { max: 100 },
      avgDiskFreeSpace: { min: 0 },
    },
  },
];

export const dashboardMetrics = {
  totalDevices: devices.length,
  totalDeployments: deployments.length,
  activeRings: rings.length,
};

export const deviceDistributionByRing = [
  { name: 'Ring 0', value: devices.filter(d => d.ring === 0).length },
  { name: 'Ring 1', value: devices.filter(d => d.ring === 1).length },
  { name: 'Ring 2', value: devices.filter(d => d.ring === 2).length },
  { name: 'Ring 3', value: devices.filter(d => d.ring === 3).length },
];
